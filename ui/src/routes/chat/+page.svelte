<script>
    import ChatContentHeader from '$lib/cps/ChatContentHeader.svelte';
import ChatItem from '$lib/cps/ChatItem.svelte';
    import Message from '$lib/cps/Message.svelte';
    import MessageContainer from '$lib/cps/MessageContainer.svelte';
     import logo from '$lib/images/simple.svg';           
                
     export let messages=[{direction:"in",name:"kevin star",status:"Delivered",avartar:"https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg",text:"here is your cat",time:"2024.02.18 12:30:33"},
    {direction:"out",name:"kevin star",status:"Delivered",avartar:"https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg",text:"here is your cat",time:"2024.02.18 12:30:33"},
    {direction:"in",name:"kevin star",status:"Delivered",avartar:"https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg",text:"here is your cat",time:"2024.02.18 12:30:33"}]
    export let data
    let currentIdx=0
</script>


<div class="mx-auto relative container w-full h-full">
    
<div class="w-full flex mx-2 mt-2 h-full">
    <div class="flex-none justify-between flex flex-col pt-4 bg-gray-600 rounded-l-md">
        <div class="avatar w-full flex justify-center hover:scale-105">
            <div class="w-12 rounded-full">
                <img
                    alt="Tailwind CSS chat bubble component"
                    src="https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg"
                />
            </div>
        </div>
   
    <ul class="menu mt-4 grow gap-4">
        <li>
          <a href='/chats' class="tooltip group tooltip-right" data-tip="Chats">
            <svg class="icon fill-slate-50 group-hover:fill-pink-500" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M920.642991 1.684336h-583.775701c-48.08972 0-87.327103 39.428785-87.327103 87.738617v88.217122H103.596262c-48.328972 0-87.566355 39.419215-87.566355 87.977869V675.935701c0 48.558654 39.237383 87.977869 87.566355 87.977869H133.024299v229.31858a28.901682 28.901682 0 0 0 18.42243 27.159925c3.588785 1.435514 7.17757 2.162841 10.766355 2.162841a29.284486 29.284486 0 0 0 21.293458-9.129869L418.691589 763.674318h268.201869c23.685981 0 44.740187-10.335701 60.770093-26.202916l93.069159 98.552822c5.742056 6.010019 13.398131 9.139439 21.293458 9.13944 3.588785 0 7.17757-0.727327 10.766355-2.162842a29.265346 29.265346 0 0 0 18.42243-27.169495V587.718579H920.642991c48.08972 0 87.327103-39.428785 87.327102-87.738616v-410.55701C1007.730841 41.103551 968.73271 1.684336 920.642991 1.684336zM686.893458 705.019215h-281.839252c-9.809346 0-18.183178 5.292262-23.446729 12.737794L191.401869 919.437159V735.547813c0-0.239252-0.239252-0.478505-0.239252-0.717757 0-0.239252 0.239252-0.478505 0.239252-0.727327 0-16.096897-13.158879-29.322766-29.188785-29.322766H103.596262c-16.029907 0-29.188785-13.216299-29.188785-29.322767V265.617944c0-16.106467 13.158879-29.332336 29.188785-29.332337h145.943925v263.943178c0 48.309832 39.237383 87.729047 87.327103 87.729047h269.876635l101.442991 107.453009c-5.502804 5.761196-12.919626 9.608374-21.293458 9.608374z m262.699065-204.8c0 16.106467-12.919626 29.093084-28.949532 29.093084h-58.616823c-16.029907 0-29.188785 13.206729-29.188785 29.322766v183.889346l-192.358878-204.082243-0.239253-0.239252c-1.914019-1.923589-4.06729-3.129421-6.459813-4.564935-0.957009-0.727327-1.914019-1.684336-3.11028-1.923588-0.957009-0.478505-1.914019-0.239252-2.871028-0.727328a24.757832 24.757832 0 0 0-8.373832-1.684336H336.86729a28.968673 28.968673 0 0 1-28.949533-29.083514V89.422953c0-16.106467 12.919626-29.093084 28.949533-29.093084h583.775701a28.968673 28.968673 0 0 1 28.949532 29.093084v410.796262z"></path></svg>
          </a>
        </li>
        <li>
          <a href='/contacts' class="tooltip tooltip-right group" data-tip="Contacts">
            <svg class="icon fill-slate-50 group-hover:fill-pink-500" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8757" width="200" height="200"><path d="M513.128507 456.121827a189.691691 189.691691 0 1 0-190.409832-189.657494 191.196367 191.196367 0 0 0 190.409832 189.657494z m-165.480097 18.056105a266.053967 266.053967 0 1 1 431.807641-208.876302 269.815656 269.815656 0 0 1-100.881645 208.876302 454.069997 454.069997 0 0 1 328.668982 435.80871 114.663104 114.663104 0 0 1-114.457922 114.013358H131.180337A114.663104 114.663104 0 0 1 16.722415 909.986642a459.883516 459.883516 0 0 1 330.925995-435.80871z m546.265563 474.177932a38.88218 38.88218 0 0 0 38.540208-38.369222 380.922255 380.922255 0 0 0-380.819663-379.349185h-75.917713A380.922255 380.922255 0 0 0 94.897141 909.986642a38.88218 38.88218 0 0 0 38.540209 38.369222z"></path></svg>
          </a>
        </li>
        <li>
          <a href='/notice' class="tooltip tooltip-right group" data-tip="more">
            <svg class="icon fill-slate-50 group-hover:fill-pink-500" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10878" width="200" height="200"><path d="M803.904 779.904l-63.04-82.752c-16.832-18.56-26.24-43.52-26.24-69.376V434.56c0-61.952-20.736-118.4-57.728-158.912a189.248 189.248 0 0 0-62.976-45.568 212.096 212.096 0 0 0-164.928 0c-23.68 10.496-44.8 25.728-62.848 45.44-37.12 40.704-57.792 97.088-57.792 159.104v193.28c0 25.92-9.536 50.688-26.752 70.016l-62.848 82.624 585.152-0.576zM128 759.04l86.848-114.304 2.816-3.328a19.584 19.584 0 0 0 5.44-13.568V434.56c0-82.688 28.288-159.744 80.064-216.576a271.872 271.872 0 0 1 91.392-65.92c72.192-32 161.792-32 233.984 0 34.56 15.36 65.28 37.568 91.264 65.92 51.84 56.832 80 133.824 80 216.64v193.28c0 4.992 1.856 9.6 4.288 12.16l3.264 3.712 87.296 114.56 1.344 106.88-767.68 0.768L128 759.04z m213.184 179.712h341.12V1024H341.12v-85.312zM426.496 0h170.496v85.312H426.496V0z"></path></svg>
          </a>
        </li>
      </ul>
      <div class="flex-none mb-4">
        <a href='/settings' class="tooltip tooltip-right group flex justify-center" data-tip="Contacts">
        <svg class="icon fill-slate-50 group-hover:fill-pink-500"  viewBox="0 0 1078 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9793" width="200" height="200"><path d="M538.947368 656.976842a147.402105 147.402105 0 0 1-147.240421-147.294316A147.348211 147.348211 0 0 1 538.947368 362.549895a147.348211 147.348211 0 0 1 147.240421 147.132631A147.402105 147.402105 0 0 1 538.947368 656.976842m0-345.465263a198.440421 198.440421 0 0 0-198.224842 198.224842A198.440421 198.440421 0 0 0 538.947368 707.907368a198.440421 198.440421 0 0 0 198.224843-198.224842A198.440421 198.440421 0 0 0 538.947368 311.511579m483.759158 269.473684c-2.694737 15.413895-21.557895 36.971789-42.199579 41.714526l-17.084631 4.149895a162.492632 162.492632 0 0 0-93.776842 75.237053 165.618526 165.618526 0 0 0-16.222316 123.79621l3.449263 11.210106c6.090105 22.258526-0.754526 45.756632-17.084632 60.631579-1.616842 1.293474-16.922947 13.904842-56.751157 36.971789-39.127579 22.635789-57.559579 30.019368-60.631579 31.151158a43.277474 43.277474 0 0 1-15.629474 2.533053c-16.437895 0-34.492632-7.006316-43.924211-17.300211l-12.018526-12.719158c-29.696-28.348632-69.685895-42.522947-110.160842-42.522947-42.361263 0-85.315368 15.521684-117.652211 46.672842l-7.922526 8.677053c-13.904842 15.198316-44.193684 20.372211-59.607579 14.713263-0.215579 0-18.432-6.790737-60.254316-31.097263-37.510737-21.719579-53.894737-34.384842-56.158315-36.163369-16.168421-13.850947-24.360421-41.229474-18.108632-61.224421l5.497263-18.701474a165.241263 165.241263 0 0 0-117.867789-193.42821l-11.425684-2.479158c-19.671579-4.527158-39.235368-25.276632-43.331369-47.696842-1.077895-5.012211-2.802526-31.258947-2.802526-65.536 0-50.122105 3.449263-68.769684 3.772631-70.332632 3.179789-18.054737 23.174737-38.426947 42.253474-42.792421l19.671579-4.688842a161.037474 161.037474 0 0 0 91.405474-74.590316 165.025684 165.025684 0 0 0 16.330105-123.957894l-3.772632-11.964632c-6.036211-19.402105 1.724632-46.672842 16.707369-59.284211 2.802526-2.317474 18.755368-15.090526 57.451789-37.564631 42.199579-24.468211 59.769263-30.72 60.038737-30.82779 16.168421-6.090105 44.948211-1.940211 60.146526 14.551579l13.312 14.174316c57.775158 54.864842 164.864 53.032421 226.034527-5.01221l8.461473-9.377685c15.306105-16.491789 45.594947-19.671579 59.176421-14.874947 2.048 0.808421 20.48 7.922526 60.847158 31.258947 37.079579 21.557895 54.433684 34.708211 58.799158 38.750316 12.449684 10.617263 21.773474 37.834105 15.36 58.47579l-5.658947 19.078737a164.378947 164.378947 0 0 0 18.32421 116.682105c21.180632 36.864 54.810947 63.164632 99.004632 76.422737l11.802947 2.586947c19.671579 4.581053 39.235368 25.330526 43.385264 47.319579 0.700632 4.096 2.910316 27.109053 2.96421 65.751579 0 44.840421-2.856421 65.913263-4.149895 71.57221m50.714948-148.318315h0.053894c-7.060211-39.882105-42.145684-76.853895-81.758315-86.016l-10.24-2.15579a114.256842 114.256842 0 0 1-67.637895-52.601263 112.801684 112.801684 0 0 1-13.150316-78.524632l5.12-16.869052c11.856842-38.157474-1.940211-87.417263-29.803789-110.969263-6.844632-6.790737-28.725895-22.689684-67.69179-45.325474-41.876211-24.252632-62.895158-32.821895-68.769684-34.977684-32.444632-11.641263-84.075789-4.257684-114.256842 28.294737l-7.27579 8.192c-40.043789 37.834105-116.574316 39.720421-153.49221 4.850526L452.500211 33.468632C429.756632 8.892632 395.048421 0 370.202947 0c-11.695158 0-22.312421 1.832421-32.444631 5.497263-3.610947 1.293474-23.983158 8.946526-68.446316 34.762105-40.097684 23.174737-58.421895 37.349053-64.673684 42.576843-30.558316 25.977263-44.570947 74.805895-32.606316 113.55621l3.395368 10.617263c7.383579 28.833684 3.233684 58.960842-11.641263 84.938105a109.514105 109.514105 0 0 1-60.685473 50.661053l-17.51579 4.096C46.888421 355.705263 11.317895 392.407579 4.850526 429.002105 2.694737 438.595368 0 465.434947 0 509.574737c0 18.324211 0.431158 58.906947 4.311579 76.746105H4.257684c7.006316 40.043789 42.037895 77.069474 81.812211 86.231579l10.24 2.15579c57.559579 16.168421 92.860632 74.805895 80.842105 131.503157l-4.958316 16.384c-12.180211 39.289263 2.048 87.578947 34.384842 115.334737 6.144 4.850526 24.468211 18.647579 63.056842 41.06779 46.349474 26.785684 66.721684 34.223158 68.608 34.869894 9.539368 3.449263 20.156632 5.281684 31.528421 5.281685 24.037053 0 60.092632-8.784842 82.997895-33.576421l6.844632-7.653053c42.307368-40.421053 115.119158-41.660632 155.001263-3.664842l10.886737 11.587368c19.294316 20.911158 50.014316 32.606316 82.189473 33.522527 10.994526 0 21.827368-1.886316 32.498527-5.766737 7.168-2.694737 28.025263-11.371789 68.392421-34.708211 41.606737-24.198737 59.499789-38.426947 64.673684-42.792421a111.993263 111.993263 0 0 0 32.606316-113.286737l-3.395369-10.778947a114.149053 114.149053 0 0 1 11.425685-84.776421c14.282105-24.899368 37.187368-43.223579 62.949052-51.30779l15.306106-3.664842c38.858105-8.946526 74.374737-45.271579 80.141473-80.087579 3.395368-11.749053 5.605053-44.301474 5.605053-82.944-0.053895-18.216421-0.538947-58.475789-4.473263-76.638315"></path></svg>
    </a>
    </div>
    </div>
      <div class="h-screen flex-none bg-slate-300">
            <label class=" flex h-14 w-full items-center gap-2 p-2">
                <input type="text" class="grow rounded-md h-full" placeholder="Search" />
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4 opacity-70"><path fill-rule="evenodd" d="M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" clip-rule="evenodd" /></svg>
              </label>
          <div class="w-full h-full">
            {#each data.persons as per,idx}
                <ChatItem callback={()=>currentIdx=idx} selected={idx===currentIdx}/>
            {/each}
          </div>
      </div>
      
      <div class="grow h-screen flex flex-col rounded-rt-md">
            <ChatContentHeader/>
          <MessageContainer>
            {#each messages as message}
        <Message msg={message}/>
    {/each}
          </MessageContainer>
            <div class="bg-slate-200 flex h-14 w-full px-2 py-2 gap-2">
                <button class=" flex group p-1 rounded-lg hover:bg-slate-400 items-center justify-center">
                    <svg class="icon fill-slate-700 group-hover:fill-gray-50" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M512 128a384 384 0 1 0 0 768 384 384 0 0 0 0-768zM42.666667 512C42.666667 252.8 252.8 42.666667 512 42.666667s469.333333 210.133333 469.333333 469.333333-210.133333 469.333333-469.333333 469.333333S42.666667 771.2 42.666667 512z m533.333333-64a42.666667 42.666667 0 0 1 42.666667-42.666667h85.333333a42.666667 42.666667 0 1 1 0 85.333334h-85.333333a42.666667 42.666667 0 0 1-42.666667-42.666667z m-254.165333 193.834667a42.666667 42.666667 0 0 1 60.330666 0 183.594667 183.594667 0 0 0 259.669334 0 42.666667 42.666667 0 0 1 60.330666 60.330666 268.928 268.928 0 0 1-380.330666 0 42.666667 42.666667 0 0 1 0-60.330666z"></path><path d="M362.666667 362.666667a42.666667 42.666667 0 0 1 42.666666 42.666666v80a42.666667 42.666667 0 0 1-85.333333 0V405.333333a42.666667 42.666667 0 0 1 42.666667-42.666666z"></path></svg>
                </button>
                    <textarea id="about" name="about" placeholder="type here..." class="w-full placeholder:text-base placeholder:opacity-50 bg-slate-200 border-0 ring-0 focus:bg-gray-100 resize-none rounded-lg focus:ring-0 outline-0 text-xl"></textarea>
                    <button class="group hover:bg-slate-300 p-1 rounded-lg hover:shadow-md">
                        <svg class="icon fill-slate-700 group-hover:fill-gray-50" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5648" width="200" height="200"><path d="M964.154514 81.861486a29.242514 29.242514 0 0 0-30.866285-0.380343L60.459886 609.104457a29.257143 29.257143 0 1 0 6.568228 53.013943l273.027657 83.485257 35.766858 177.664a29.2864 29.2864 0 0 0 48.069485 16.135314l141.282743-124.957257 289.9968 88.6784a29.2864 29.2864 0 0 0 37.653943-24.766171L977.495771 109.714286a29.257143 29.257143 0 0 0-13.341257-27.8528zM423.175314 861.930057l-19.499885-96.885028 95.890285 29.330285-76.3904 67.554743z m415.349029-25.088l-363.271314-111.074743 294.107428-345.000228a14.613943 14.613943 0 1 0-22.250057-18.973257L444.781714 716.448914l-298.027885-91.121371 766.083657-463.111314-74.313143 674.625828z"></path><path d="M812.2368 580.856686a14.628571 14.628571 0 0 0 16.310857-12.712229l2.720914-21.942857a14.599314 14.599314 0 0 0-12.712228-16.310857 14.584686 14.584686 0 0 0-16.310857 12.712228l-2.720915 21.942858a14.613943 14.613943 0 0 0 12.712229 16.310857zM792.736914 737.221486a14.628571 14.628571 0 0 0 16.559543-12.405029l14.0288-97.879771a14.6432 14.6432 0 0 0-12.419657-16.559543 14.701714 14.701714 0 0 0-16.559543 12.419657l-14.0288 97.879771a14.657829 14.657829 0 0 0 12.419657 16.544915z"></path></svg>
                    </button>
            </div>
      </div>
</div>
</div>

<style>
    .icon{
        height: 2rem;
        width: 2rem;
    }
    textarea{
        height: 100%;
    }


</style>